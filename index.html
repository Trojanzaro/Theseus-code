<!DOCTYPE html>
<html>
    <header>
        <style>
            .button {
                padding: 15px 32px;
                text-align: center;
                text-decoration: none;
                display: inline-block;
                font-size: 25px;
                font-weight: bold;
            }
        </style>
    </header>
    <body>
        <img style="display: block;-webkit-user-select: none;margin: auto;background-color: hsl(0, 0%, 25%);" src="http://192.168.0.48:8081/">
        <br />
        <div style="text-align: -webkit-center;">
            <input type="text" id="text2s"> <button onclick="speak()">SPEAK!</button>
            <br />
            <br />
            <table>
                <tr>
                    <td></td>
                    <td><button class="button" id="up">&uArr;</button></td>
                    <td></td>
                </tr>
                <tr>
                    <td><button class="button" id="left" >&lArr;</button></td>
                    <td><button class="button" id="down" >&dArr;</button></td>
                    <td><button class="button" id="right">&rArr;</button></td>
                </tr>
                <tr>
                    <td><button class="button" id="clock_p" >&#8634;</button></td>
                    <td></td>
                    <td><button class="button" id="clock">&#8635;</button></td>
                </tr>
            </table>
        </div>
        
        <script>
            function north() {
                const xhttp = new XMLHttpRequest();
                xhttp.open("GET", "http://192.168.0.48:5000/north", true);
                xhttp.send();
            }

            function south() {
                const xhttp = new XMLHttpRequest();
                xhttp.open("GET", "http://192.168.0.48:5000/south", true);
                xhttp.send();
            }

            function left() {
                const xhttp = new XMLHttpRequest();
                xhttp.open("GET", "http://192.168.0.48:5000/left", true);
                xhttp.send();
            }

            function right() {
                const xhttp = new XMLHttpRequest();
                xhttp.open("GET", "http://192.168.0.48:5000/right", true);
                xhttp.send();
            }

            function clock() {
                const xhttp = new XMLHttpRequest();
                xhttp.open("GET", "http://192.168.0.48:5000/clock", true);
                xhttp.send();
            }

            function cclock() {
                const xhttp = new XMLHttpRequest();
                xhttp.open("GET", "http://192.168.0.48:5000/clock_p", true);
                xhttp.send();
            }

            function halt() {
                const xhttp = new XMLHttpRequest();
                xhttp.open("GET", "http://192.168.0.48:5000/halt", true);
                xhttp.send();
            }

            function speak() {
                const xhttp = new XMLHttpRequest();
                xhttp.open("GET", "http://192.168.0.48:5000/speak?text="+encodeURIComponent(document.getElementById("text2s").value), true);
                xhttp.send();
            }

            const bu = document.getElementById("up")
            bu.addEventListener("mouseup", (ev) => halt())
            bu.addEventListener("mousedown", (ev) => north())

            const bd = document.getElementById("down")
            bd.addEventListener("mouseup", (ev) => halt())
            bd.addEventListener("mousedown", (ev) => south())

            const bl = document.getElementById("left")
            bl.addEventListener("mouseup", (ev) => halt())
            bl.addEventListener("mousedown", (ev) => left())

            const br = document.getElementById("right")
            br.addEventListener("mouseup", (ev) => halt())
            br.addEventListener("mousedown", (ev) => right())

            const bc = document.getElementById("clock")
            bc.addEventListener("mouseup", (ev) => halt())
            bc.addEventListener("mousedown", (ev) => clock())

            const bcc = document.getElementById("clock_p")
            bcc.addEventListener("mouseup", (ev) => halt())
            bcc.addEventListener("mousedown", (ev) => cclock())

        </script>
    </body>
</html>